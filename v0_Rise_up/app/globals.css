@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Added Material 3 Typography Scale utilities */
  /* Display styles */
  .m3-display-large {
    font-size: 3.5625rem; /* 57px */
    line-height: 4rem; /* 64px */
    font-weight: 400;
    letter-spacing: -0.015em;
  }
  .m3-display-medium {
    font-size: 2.8125rem; /* 45px */
    line-height: 3.25rem; /* 52px */
    font-weight: 400;
    letter-spacing: 0;
  }
  .m3-display-small {
    font-size: 2.25rem; /* 36px */
    line-height: 2.75rem; /* 44px */
    font-weight: 400;
    letter-spacing: 0;
  }

  /* Headline styles */
  .m3-headline-large {
    font-size: 2rem; /* 32px */
    line-height: 2.5rem; /* 40px */
    font-weight: 400;
    letter-spacing: 0;
  }
  .m3-headline-medium {
    font-size: 1.75rem; /* 28px */
    line-height: 2.25rem; /* 36px */
    font-weight: 400;
    letter-spacing: 0;
  }
  .m3-headline-small {
    font-size: 1.5rem; /* 24px */
    line-height: 2rem; /* 32px */
    font-weight: 400;
    letter-spacing: 0;
  }

  /* Title styles */
  .m3-title-large {
    font-size: 1.375rem; /* 22px */
    line-height: 1.75rem; /* 28px */
    font-weight: 500;
    letter-spacing: 0;
  }
  .m3-title-medium {
    font-size: 1rem; /* 16px */
    line-height: 1.5rem; /* 24px */
    font-weight: 500;
    letter-spacing: 0.009em;
  }
  .m3-title-small {
    font-size: 0.875rem; /* 14px */
    line-height: 1.25rem; /* 20px */
    font-weight: 500;
    letter-spacing: 0.007em;
  }

  /* Body styles */
  .m3-body-large {
    font-size: 1rem; /* 16px */
    line-height: 1.5rem; /* 24px */
    font-weight: 400;
    letter-spacing: 0.031em;
  }
  .m3-body-medium {
    font-size: 0.875rem; /* 14px */
    line-height: 1.25rem; /* 20px */
    font-weight: 400;
    letter-spacing: 0.018em;
  }
  .m3-body-small {
    font-size: 0.75rem; /* 12px */
    line-height: 1rem; /* 16px */
    font-weight: 400;
    letter-spacing: 0.033em;
  }

  /* Label styles */
  .m3-label-large {
    font-size: 0.875rem; /* 14px */
    line-height: 1.25rem; /* 20px */
    font-weight: 500;
    letter-spacing: 0.007em;
  }
  .m3-label-medium {
    font-size: 0.75rem; /* 12px */
    line-height: 1rem; /* 16px */
    font-weight: 500;
    letter-spacing: 0.042em;
  }
  .m3-label-small {
    font-size: 0.6875rem; /* 11px */
    line-height: 1rem; /* 16px */
    font-weight: 500;
    letter-spacing: 0.045em;
  }

  /* Material 3 glassmorphism utilities */
  .glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  /* Material 3 elevation shadows */
  .m3-elevation-1 {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
  }
  .m3-elevation-2 {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
  }
  .m3-elevation-3 {
    box-shadow: 0 4px 8px 3px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.3);
  }
  .m3-elevation-4 {
    box-shadow: 0 6px 10px 4px rgba(0, 0, 0, 0.15), 0 2px 3px rgba(0, 0, 0, 0.3);
  }
  .m3-elevation-5 {
    box-shadow: 0 8px 12px 6px rgba(0, 0, 0, 0.15), 0 4px 4px rgba(0, 0, 0, 0.3);
  }

  /* Material 3 motion easing curves */
  .m3-motion-emphasized {
    transition-timing-function: cubic-bezier(0.2, 0, 0, 1);
  }
  .m3-motion-emphasized-decelerate {
    transition-timing-function: cubic-bezier(0.05, 0.7, 0.1, 1);
  }
  .m3-motion-emphasized-accelerate {
    transition-timing-function: cubic-bezier(0.3, 0, 0.8, 0.15);
  }
  .m3-motion-standard {
    transition-timing-function: cubic-bezier(0.2, 0, 0, 1);
  }
  .m3-motion-standard-decelerate {
    transition-timing-function: cubic-bezier(0, 0, 0, 1);
  }
  .m3-motion-standard-accelerate {
    transition-timing-function: cubic-bezier(0.3, 0, 1, 1);
  }

  /* Material 3 state layer utilities */
  .m3-state-layer {
    position: relative;
    overflow: hidden;
  }
  .m3-state-layer::after {
    content: "";
    position: absolute;
    inset: 0;
    background: currentColor;
    opacity: 0;
    transition: opacity 200ms cubic-bezier(0.2, 0, 0, 1);
  }
  .m3-state-layer:hover::after {
    opacity: 0.08;
  }
  .m3-state-layer:active::after {
    opacity: 0.12;
  }

  /* Added brand color utilities using CSS variables */
  .text-brand-warm {
    color: hsl(var(--brand-warm));
  }
  .text-brand-sage {
    color: hsl(var(--brand-sage));
  }
  .bg-brand-warm {
    background-color: hsl(var(--brand-warm));
  }
  .bg-brand-sage {
    background-color: hsl(var(--brand-sage));
  }
  .border-brand-warm {
    border-color: hsl(var(--brand-warm));
  }
  .border-brand-sage {
    border-color: hsl(var(--brand-sage));
  }

  /* Added responsive background patterns */
  .bg-pattern {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }

  /* Mobile background */
  @media (max-width: 767px) {
    .bg-pattern {
      background-image: url("/images/bg-iphone.jpg");
    }
  }

  /* Tablet background */
  @media (min-width: 768px) and (max-width: 1023px) {
    .bg-pattern {
      background-image: url("/images/bg-ipad.jpg");
    }
  }

  /* Desktop background */
  @media (min-width: 1024px) {
    .bg-pattern {
      background-image: url("/images/bg-webapp.jpg");
    }
  }

  /* Hide scrollbar utility */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

@layer base {
  :root {
    --font-sans: var(--font-inter);
    --font-serif: var(--font-dm-serif-display);

    /* Added brand color CSS variables for consistency */
    --brand-warm: 32 48% 78%; /* #E9D1B2 - Warm beige */
    --brand-sage: 136 20% 64%; /* #9BB09D - Sage green */

    /* Material 3 Dynamic Color - Light mode */
    --background: 42 15% 95%; /* Warm off-white */
    --foreground: 160 40% 15%; /* Deep teal-gray */
    --card: 0 0% 100%;
    --card-foreground: 160 40% 15%;
    --popover: 0 0% 100%;
    --popover-foreground: 160 40% 15%;
    --primary: 160 35% 35%; /* Teal green */
    --primary-foreground: 42 25% 95%;
    --secondary: 22 60% 65%; /* Terracotta */
    --secondary-foreground: 160 40% 15%;
    --muted: 42 20% 88%;
    --muted-foreground: 160 20% 40%;
    --accent: 38 70% 68%; /* Amber */
    --accent-foreground: 160 40% 15%;
    --destructive: 0 72% 51%; /* Red for alerts */
    --destructive-foreground: 0 0% 98%;
    --success: 142 71% 45%; /* Green for safe/verified */
    --success-foreground: 0 0% 98%;
    --warning: 38 92% 50%; /* Amber for warnings */
    --warning-foreground: 160 40% 15%;
    --info: 217 91% 60%; /* Blue for info */
    --info-foreground: 0 0% 98%;
    --border: 160 15% 85%;
    --input: 160 15% 85%;
    --ring: 160 35% 35%;
    --radius: 1.5rem; /* 24px - generous Material 3 rounded corners */
  }

  .dark {
    /* Updated dark mode colors to match reference with deep forest green background */
    --background: 160 25% 18%; /* Deep forest green instead of black */
    --foreground: 42 25% 95%; /* Warm cream */
    --card: 160 20% 22%; /* Slightly lighter green for cards */
    --card-foreground: 42 25% 95%;
    --popover: 160 25% 20%;
    --popover-foreground: 42 25% 95%;
    --primary: 160 30% 45%; /* Lighter teal for dark mode */
    --primary-foreground: 42 25% 95%;
    --secondary: 22 55% 55%; /* Muted terracotta */
    --secondary-foreground: 42 25% 95%;
    --muted: 160 15% 25%;
    --muted-foreground: 42 15% 65%;
    --accent: 38 65% 60%; /* Softer amber */
    --accent-foreground: 42 25% 95%;
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;
    --success: 142 71% 45%;
    --success-foreground: 0 0% 98%;
    --warning: 38 92% 50%;
    --warning-foreground: 160 40% 15%;
    --info: 217 91% 60%;
    --info-foreground: 0 0% 98%;
    --border: 160 15% 30%;
    --input: 160 15% 30%;
    --ring: 160 30% 45%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }

  /* Material 3 scrollbar styling - hidden on mobile, subtle on desktop */
  /* Hide scrollbars on mobile/touch devices */
  @media (max-width: 1023px) {
    * {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    *::-webkit-scrollbar {
      display: none;
    }
  }

  /* Subtle styled scrollbars on desktop */
  @media (min-width: 1024px) {
    * {
      scrollbar-width: thin;
      scrollbar-color: rgba(155, 176, 157, 0.3) transparent; /* Sage green at 30% opacity */
    }

    *::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    *::-webkit-scrollbar-track {
      background: transparent;
    }

    *::-webkit-scrollbar-thumb {
      background: rgba(155, 176, 157, 0.3); /* Sage green at 30% opacity */
      border-radius: 3px;
    }

    *::-webkit-scrollbar-thumb:hover {
      background: rgba(155, 176, 157, 0.5); /* Sage green at 50% opacity on hover */
    }
  }
}
